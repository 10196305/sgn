<%doc>

=head1 DESCRIPTION

Produces a list of <script src=""></script> lines for a set of
legacy JavaScript modules or legacy JSAN class names, including any necessary dependencies.

=head1 ARGS

=head2 C<modules> - single class name, or arrayref of JavaScript modules to import

=head1 EXAMPLES

  <& /import_javascript, modules => [], legacy => [] &>
  
=cut

</%doc>
<%args>
 $modules => []
 $classes => []
 $legacy => []
</%args>
<%perl>
  $legacy = [ $legacy ] unless ref $legacy;
  $classes = [ $classes ] unless ref $classes; #< coerce to arrayref
  push @$legacy, @$classes;
  push @{ $c->stash->{jsan_classes} }, @$legacy;

  $modules = [ $modules ] unless ref $modules; #< coerce to arrayref
  push @{ $c->stash->{js_modules} }, @$modules;
</%perl>
