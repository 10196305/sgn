
<%args>
@databases
$sequence => undef
</%args>


<& /page/page_title.mas, title=>"VIGS Tool" &>

<center>

Sequence:
	<script>
	var seq = ">Solyc10g047140.1.1 Receptor like kinase, RLK\nATGGATCAGTCGGTGTTGGCGATCTGGGTATTTCTCTGCTTAATTGGTCTGCTTTTCAATTTGTCACCCGTCGCCGGTAACGCTGAAGGTGATGCCTTGAATGCTCTGAAGACAAATTTGGCTGATCCTAATAGTGTTCTACAGAGTTGGGATGCAACCCTTGTTAATCCTTGTACTTGGTTCCATGTGACATGCAACAATGAAAATAGTGTGACTAGAGTTGATCTAGGAAATGCAAATCTATCAGGTCAACTGGTACCACAGCTTGGCCAACTCCAGAAATTGCAGTACTTGGAACTTTATAGTAATAACATAAGCGGAAGAATTCCAAATGAACTGGGAAACTTGACAGAGTTGGTTAGTTTGGATCTTTACCTGAACAACTTAAATGGTCCTATTCCTCCCTCATTGGGCAGGCTTCAGAAGCTACGCTTCCTGAGGCTCAATAATAACAGTTTGAATGAAGGTATTCCCATGTCTCTAACCACCATTGTTGCACTTCAAGTACTTGATCTCTCAAACAACCATTTGACAGGACTAGTTCCAGTCAACGGTTCCTTTTCACTTTTTACTCCTATAAGTTTTGCTAATAATCAGTTGGAAGTTCCTCCAGTTTCTCCACCTCCTCCTCTTCCTCCTACACCCTCATCGTCATCTTCAGTGGGCAACAGCGCAACTGGAGCTATCGCTGGAGGAGTTGCTGCAGGCGCTGCTCTTCTATTTGCAGCTCCTGCAATTTTTCTTGCTTGGTGGCGTCGGAGGAAACCACAAGACCACTTCTTTGATGTTCCTGCTGAGGAGGATCCAGAAGTTCATCTGGGACAACTCAAAAGGTTTTCCTTGCGTGAACTACAAGTTGCGTCGGATAATTTTAGCAACAGAAATATACTCGGTAGAGGTGGATTTGGTAAGGTTTATAAGGGCCGGTTAGCTGATGGCTCTTTAGTTGCAGTGAAAAGACTAAAAGAGGAACGTACTCAAGGTGGAGAGTTACAGTTCCAGACAGAAGTAGAAATGATCAGCATGGCTGTACACCGAAACCTACTTCGTTTACGGGGCTTTTGCATGACACCCACTGAGCGCGTGCTTGTTTATCCTTACATGGAGAATGGAAGTGTTGCATCACGTTTAAGAGAGAGGCCTGAATCAGAGCCCCCACTTGACTGGCCAAAAAGGAAGCGTATTGCACTTGGATCTGCAAGAGGCCTTGCTTACTTGCATGATCATTGTGATCCTAAAATTATTCATCGTGACGTCAAAGCCGCAAATATCTTGTTGGATGAGGAGTTTGAAGCAGTTGTTGGGGATTTTGGGTTAGCTAAACTCATGGACTACAAGGATACTCATGTTACCACTGCTGTACGTGGTACAATTGGGCATATTGCCCCTGAATATTTATCTACTGGTAAATCTTCTGAGAAAACTGATGTCTTTGGCTATGGGGTTATGCTTCTAGAGCTCATAACTGGGCAAAGGGCTTTTGATCTTGCTCGACTTGCGAATGATGATGATGTCATGCTGCTAGATTGGGTGAAGGGACTCCTGAAGGACAAGAAATATGAAACATTAGTTGATGCAGATCTTCAAGGTAATTACAATGAAGAAGAGGTGGAACAACTTATTCAGGTAGCTCTACTTTGCACGCAGAGTACGCCTACGGAACGTCCAAAGATGTCAGAAGTTGTAAGAATGCTTGAAGGTGATGGCCTTGCTGAGAGGTGGGAGGAATGGCAAAAGGAGGAGATGTTCCGGCAAGATTACAACCATGTACACCACCCCCATACTGATTGGATAATAGCTGACTCCACGTCAAATATCCGACCGGATGAGTTGTCAGGGCCAAGATGA\n";

	document.write("(<a href=\"javascript:example()\" >example sequence</a>)");

	function example() { 
	    document.getElementById("sequence").value=seq;
	}	    

</script>

<br />
<form method="post" action="/tools/vigs/result" name="PCRform" enctype="multipart/form-data">

      <textarea id="sequence" name="sequence" cols=62" rows="8"></textarea>

<br />
<br />

<span title="siRNA selected size">n-mer size</span> 
<input type="input" value="21" name="fragment_size" size="2" />&nbsp; &nbsp; &nbsp;

<span title="desired VIGS fragment length">Fragment length</span> 
<input type="input" value="300" name="seq_fragment" size="3" />&nbsp; &nbsp; &nbsp;

<span title="Number of miss-matches allowed in BowTie 2 alignment">miss-matches</span> 
<input type="input" value="0" name="missmatch" size="1" />
<br />
<br />
Database <select name="database"> 
<br />

<%perl>
foreach my $d (@databases) { 
	print "<option value=\"".$d->id()."\">".$d->title()."</option><br />";
	}     
</%perl>
</select>
<br />
<br />
Upload expression file (optional) <input type="file" name="expr_file" />
<br />
<br />

<button type="reset" value="clear" />Clear</button>&nbsp; &nbsp; &nbsp;
<button type="submit" value="Run VIGS Analysis" />Run VIGS Analysis</button>

</form>
<br />
<br />
<hr />

</center>
      <p>
         <b>Usage:</b><br />
         1. Paste a <b>sequence</b> like in one of the examples:<br />
         &nbsp;&nbsp;>seq1<br />&nbsp;&nbsp;accgatcgatcgatcgta<br />

         &nbsp;&nbsp;Or:<br />
         &nbsp;&nbsp;acgtagctagctgatcat<br />
         
         2. Choose <b>n-mer size</b>, nucleotide stretch size in bp, used to identify targeted regions (18-30, Default=21)<br />
         3. Choose <b>Fragment length</b>, desired VIGS fragment length in bp (100-Sequence length, Default=300)<br />
         4. Choose <b>miss-matches</b>, number of miss-matches allowed in the alignment (0-3, Default=0)<br />
         5. Choose <b>database</b><br />
         6. Upload a <b>expression values file</b> (optional), gene identifiers must be in first column and a header in the first row
      </p>
<hr />

