
<%args>
$trial_id => ''
$trial_name => ''
$identifier => ''
</%args>


 <& /util/import_javascript.mas, classes => [ 'jqueryui.js', 'jquery.js', 'CXGN.BreedersToolbox.GenerateTrialBarcode'] &>

<div class="modal fade" id="generate_trial_barcode_dialog" name="generate_trial_barcode_dialog" tabindex="-1" role="dialog" aria-labelledby="generateTrialBarcodeDialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header" style="text-align: center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="generateTrialBarcodeDialog">Generate Stock Barcode</h4>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <p>
                        <span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px 50px 0;"></span>
                        Generate barcode for plots and accessions.
                    </p>
                        <center>
                        <& /util/barcode.mas, identifier => "$identifier", trial_id=> "$trial_id", trial_name=> "$trial_name", format=>"trial_qrcode"  &>
                    <p>

                    <div class="well well-sm">
                    <div class="row">
                      <div class="col-md-1 col-lg-1">
                      </div>
                      <div class="col-md-10 col-lg-10">

                    <form class="form-horizontal" role="form" enctype="multipart/form-data" method="post" action="/barcode/stock/download/pdf" >
                     <div class="form-group form-group-sm">

                     <div class="form-group form-group-sm" style="display: none">
                       <label class="col-sm-4 control-label">Enter a List of Stock Names: </label>
                       <div class="col-sm-8">
                         <textarea class="form-control" id="stock_names" name="stock_names" ></textarea>
                       </div>
                     </div>

                        <div class="form-group form-group-sm">
                          <label class="col-sm-4 control-label">Barcode Type: </label>
                          <div class="col-sm-8">
                              <select class="form-control" id="select_barcode_type" name="select_barcode_type">
                                <option value="1D">1D Barcode</option>
                                <option value="2D">2D Barcode</option>
                              </select>
                          </div>
                        </div>

                       <div id="2D_fieldbook_option" style="display: none">
                       <div class="form-group form-group-sm" >
                         <label class="col-sm-4 control-label">Enable 2D Barcode For FieldBook: </label>
                         <div class="col-sm-8">
                           <input type="checkbox" id="enable_fieldbook_2d_barcode" name="enable_fieldbook_2d_barcode" value="enable_fieldbook_2d_barcode" />
                         </div>
                       </div>
                       </div>

                       <script defer="defer">
                            jQuery(document).ready(function() {

                               jQuery(document).on('change', '#select_barcode_type', function () {
                                   var barcode_type = jQuery("#select_barcode_type").val();
                                   if (barcode_type == "2D") {
                                       jQuery("#2D_fieldbook_option").show();
                                   }
                                   else if (barcode_type == "1D") {
                                     jQuery("#2D_fieldbook_option").hide();
                                   }
                               });
                            });
                        </script>

                        <div class="form-group form-group-sm">
                          <label class="col-sm-4 control-label">Print Duplicate Labels Per Row: </label>
                          <div class="col-sm-8">
                            <input type="checkbox" name="duplicate_labels_per_row" checked="1" disabled="1" />
                          </div>
                          </div>
                          <div class="form-group form-group-sm">
                          <label class="col-sm-4 control-label">Print Field Information For Plots: </label>
                          <div class="col-sm-8">
                            <input type="checkbox" name="plots" value="plots" />
                          </div>
                        </div>
                        <div class="form-group form-group-sm">
                          <label class="col-sm-4 control-label">Print Parents For Nurseries: </label>
                          <div class="col-sm-8">
                            <input type="checkbox" name="nursery" value="nursery" />
                          </div>
                        </div>
                    </div>
                        </div>
                        <div class="col-md-1 col-lg-1">
                        </div>
                      </div>
                      </div>

                    </p>

                            <& /barcode/printer_settings.mas &>
                        </center>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" name="trial_plot_barcode" id="trial_plot_barcode">Plots Barcode</button>
                <button type="button" class="btn btn-primary" name="trial_accession_barcode" id="trial_accession_barcode">Accessions Barcode</button>
                <button id="trial_barcode_dialog_ok_button" type="button" class="btn btn-default" data-dismiss="modal">Close</button>

            </div>
        </form>
        </div>
    </div>
</div>
