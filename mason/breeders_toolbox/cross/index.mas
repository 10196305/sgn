
<%args>
$cross_id
$cross_name => ''
$breeding_program => undef
$progeny_count => undef
$trial_id => undef
$trial_name => undef
</%args>

<& /util/import_javascript.mas, classes => ["jquery", "jqueryui", "thickbox", "CXGN.Phenome.Tools", "CXGN.Page.FormattingHelpers", "jquery.cookie", "CXGN.BreedersToolbox.CrossDetailPage" ] &>

% use utf8;
% $cross_name ||= "Untitled cross";
% my $basename = $cross_name."P";

<& /page/page_title.mas, title => "Detail for cross '$cross_name'" &>

<&| /page/info_section.mas, title => "Cross information" &>

<& /page/form.mas,
  object_type=>'cross',
  object_id=> $cross_id,
  form_name=> 'stock_form',
  server_side_script => '/phenome/stock/stock_ajax_form.pl',
  form_div_name=>'stock_details',
  js_object_name=> 'stockForm',
  page_url => "/cross/$cross_id" ,
  alternate_new_button => '',
  alternate_delete_button => ''
&>

</&>

<div id="cross_name" style="visibility:hidden">
<% $cross_name %>
</div>

<div id="cross_id" style="visibility:hidden">
<% $cross_id %>
</div>

<&|  /page/info_section.mas, title => "Parents", collapsible => 1, collapsed => 0  &>

<div id="parents_information_div">
[loading...]
</div>

</&>

<&|  /page/info_section.mas, title => "Progeny", collapsible => 1, collapsed => 0, subtitle => '<a id="add_more_progeny_link">[add more progeny]</a>'  &>

  <div id="progeny_information_div">
    [loading...]
    </div>


  <div id="add_more_progeny_dialog">
    <table>
    <tr><td>Basename</td><td><input type="input" id="basename" name="basename" value="<% $basename %>" /></td></tr>
    <tr><td>Start number</td><td><input type="input" id="start_number" name="start_number" size="5" value="<% $progeny_count + 1 %>" /></td></tr>
    <tr><td>How many?</td><td><input type="input" id="progeny_count" name="progeny_count" size="5" /></td></tr>
    </table>
  </div>


</&>

<&| /page/info_section.mas, title => "Properties" &>

<div id="cross_properties_div" >
[none]
</div>

</&>



