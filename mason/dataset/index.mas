
<%args>
$dataset_id 
$dataset_name => ''
$dataset_description => ''

</%args>


<& /page/page_title.mas, title => "Dataset $dataset_name $dataset_id" &>
<& /util/import_javascript.mas, entries => ['dataset_scatterplot'], classes => [ 'jqueryui.js', 'jquery.js', 'd3.d3v4Min', 'jstree.dist.jstree', "thickbox", "CXGN.Page.FormattingHelpers" ] &>


<style>
  .slider {
  -webkit-appearance: none;
  width: 100%;
  height: 20px;
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  border-radius: 5px;
  -webkit-transition: .2s;
  transition: opacity .2s;
  }

  .slider:hover {
    opacity: 1;
  }

  .slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 25px;
    height: 25px;
    background: #04AA6D;
    cursor: pointer;
  }

  .slider::-moz-range-thumb {
    width: 25px;
    height: 25px;
    background: darkslategrey;
    cursor: pointer;
  }
  #top-row {
    display: flex;
    justify-content: center;

  }

  #pagefooter {
    min-height: 150px !important;
  }

  #trait_selection {
    font-size: 15px;
  }
  #trait_selections {
    float: left;
    max-width: 400px;
    height: 100px;
    font-size: 15px;
  }

  #store_outliers {
    float: right;
    padding: 5px;
  }

  #dataset_slider {
    margin: 0 auto;
    padding: 10px;
    width: 200px;
  }

  #trait_graph {

    width: 65%;
  }

</style>


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Dataset Introspection</title>
</head>


<body>
  <div class="top-row">
    <div id="trait_selections">
      <label for="trait_selection">Select a Trait: </label>
      <select id="trait_selection" name="trait_selection">
        <option value="default">Select Trait</option>
      </select>
    </div>

    <div id="store-outliers">
      <button class="btn btn-primary" id="store_outliers">Store Outliers</button>
    </div>
    
    <div id="dataset_slider">
      <input type="range" min="4" max="8" value="6" class="slider" id="myRange">
    </div>
  </div>


  <div id="trait_graph"></div>


  <div id="dataset_summary_table">

    <!-- DataTable with a summary of the different datatypes in the dataset -->
    
  </div>


  <script>

    jQuery(document).ready( function() {
      console.log('dataset id', '<% $dataset_id %>');
      var DataSet = window.jsMod['dataset_scatterplot'].init(<% $dataset_id %>);
      DataSet.render(); 
    });  

  </script>
</body>