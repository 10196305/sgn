
<%doc>

=head1 NAME

/brapiclient/genome_maps/map_detail_table.mas - a mason component to display a single map's details using BrAPI call in a table.

=head1 AUTHOR

Nicolas Morales nm529@cornell.edu

=cut

</%doc>

<%args>
$protocol_id
</%args>

<& /util/import_javascript.mas, classes => [ 'jquery', 'brapi.Table' ] &>

<br/>

<div id="brapi_map_detail_table">
    <div class="well">
        [Loading...]
    </div>
</div>


<script defer="defer">

jQuery(document).ready(function () {
    jQuery.ajax( {
        url: '/brapi/v1/maps/<% $protocol_id %>?pageSize=10',
        dataType: 'json',
        success: function(response) {
            //console.log(response);
            create_table(response.result.data, response.metadata.pagination, "brapi_map_detail_table", "/brapi/v1/maps/<% $protocol_id %>");
        },
        error: function(response) {
            alert('An error occurred retrieving maps through BrAPI.');
        }
    });
    
});

</script>
