[GENERAL]
description   = Tomato FPC (SGN 2009)
db_adaptor    = Bio::DB::GFF
db_args       = -adaptor berkeleydb
                -dsn '/data/prod/public/physical_mapping/fpc/SGN_2009/gbrowse/curr'

#aggregators = transcript alignment orf
#plugins = SequenceDumper FastaDumper RestrictionAnnotator

# Web site configuration info
stylesheet  = /documents/gbrowse/gbrowse.css
buttons     = /documents/gbrowse/images/buttons
tmpimages   = /documents/tempfiles/gbrowse
js          = /documents/gbrowse/js
cachedir    = /documents/tempfiles/gbrowse
help        = /documents/gbrowse

cache overview = 48

# Default glyph settings
glyph       = generic
height      = 8
bgcolor     = black
fgcolor     = black
label density = 500
bump density  = 5000

# where to link to when user clicks in detail view
#link = AUTO
link      = sub {
                  use CXGN::Tools::Identifiers qw/identifier_url/;
	          my ($feat) = @_;
		  my %nsmap = ( BAC => 'bac' );
		  identifier_url($feat->name,$nsmap{$feat->primary_tag});
	        }

# what image widths to offer
image widths  = 450 680 980 1550 2400

# default width of detailed view (pixels)
default width = 680
default features = BACs Markers

# max and default segment sizes for detailed view
max segment     = 750000000
default segment = 20000000

# zoom levels
zoom levels    = 200000 400000 600000 800000 1000000 1500000 2000000 5000000 10000000 25000000 50000000 75000000 100000000 250000000 500000000 

# colors of the overview, detailed map and key
overview bgcolor = white
detailed bgcolor = white
key bgcolor      = beige

# examples to show in the introduction
examples = ctg1 ctg2156

# "automatic" classes to try when an unqualified identifier is given
automatic classes = BAC Clone marker frameworkmarker contig

# Various places where you can insert your own HTML -- see configuration docs
html1 = 
html2 = 
html3 = 
html4 = 
html5 = 
html6 = 

### TRACK CONFIGURATION ####
# the remainder of the sections configure individual tracks

[frameworkmarker:overview]
feature       = frameworkmarker:FPC
bgcolor       = red
glyph         = dot
fgcolor       = black
height        = 8
point         = 1
key           = Framework Markers

# [contig]
# feature       = contig:FPC
# glyph         = generic
# fgcolor       = black
# bgcolor       = yellow
# fillcolor     = red
# bump          = 1
# label density = 10
# height        = 4
# key           = Contigs

[Markers]
feature       = marker:FPC frameworkmarker:FPC electronicmarker:FPC placementmarker:FPC
bgcolor       = black
glyph         = dot
fgcolor       = sub { 
                      my $marker_type =  shift->primary_tag;
                      my $color;
                      $color = 'limegreen' if ( $marker_type eq 'marker' );
                      $color = 'red' if ( $marker_type eq 'frameworkmarker' ); 
                      $color = 'yellow' if ( $marker_type eq 'electronicmarker' );
                      $color = 'blue' if ( $marker_type eq 'placementmarker' );
                      return $color;
                    }
height        = 5
point         = 1
key           = All Markers
citation      = Markers from FPC (Framework markers are in red, electronic markers are in yellow, placement markers are in blue and other markers are represented in green)

# [Sequence_Clones]
# feature       = sequenced:FPC
# fgcolor       = black
# bgcolor       = blue
# glyph         = generic
# height        = 5
# link          = sub { my $name = shift->name;
#                       my $link = "http://www3.ncbi.nlm.nih.gov/htbin-post/Entrez/query?db=2&form=1&term=".$name;
#                       return $link;
#                 }
# key           = Sequenced Clones
# #citation      = Sequence obtained from GenBank

[BACs]
feature       = BAC:FPC Clone:FPC
fgcolor       = black
bgcolor       = blue
glyph         = sub {
		  my ($feat) = @_;
	          use CXGN::Genomic::Clone ();
		  my $clone = CXGN::Genomic::Clone->retrieve_from_clone_name($feat->name);
		  $clone && $clone->latest_sequence_name or return 'anchored_arrow';
                  return 'generic';
                }
height        = 4
label         = 1
key           = BACs
citation      = BAC sequences in the FPC build.  BACs appearing as thick blue bars have been sequenced.
